{"ast":null,"code":"import _slicedToArray from\"/Users/emmanueltowner/Downloads/Bank-App/src/main/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{useParams}from\"react-router-dom\";import axios from\"axios\";import api from\"../../api/axiosConfig\";\"\";import{Alert,Navbar}from\"react-bootstrap\";import Button from\"react-bootstrap/Button\";import Form from\"react-bootstrap/Form\";import Col from\"react-bootstrap/Col\";import Row from\"react-bootstrap/Row\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Withdraw(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),amount=_useState2[0],setAmount=_useState2[1];var _useParams=useParams(),accountID=_useParams.accountID;var _useParams2=useParams(),userID=_useParams2.userID;var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),error=_useState4[0],setError=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),loading=_useState6[0],setLoading=_useState6[1];var handleWithdrawClick=function handleWithdrawClick(event){event.preventDefault();if(isNaN(amount)||amount<=0){setError(\"Invalid withdrawal amount. Please enter a valid amount.\");return;}if(props.balance-amount<0){setError(\"Insufficient funds.\");return;}var withdrawAmount=parseFloat(amount);setLoading(true);api.put(\"/api/v1/user/\".concat(userID,\"/\").concat(accountID,\"/withdraw\"),withdrawAmount,{headers:{\"Content-Type\":\"application/json\"}}).then(function(response){//console.log(response.data);\nsetError(null);setAmount(0);props.updateAccount(response.data);setLoading(false);}).catch(function(error){console.error(error);setLoading(false);});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Row,className:\"mb-3 \",controlId:\"formHorizontalEmail\",children:[/*#__PURE__*/_jsx(Form.Label,{column:true,sm:5,children:\"Enter an amount:\"}),/*#__PURE__*/_jsx(Col,{sm:3,children:/*#__PURE__*/_jsx(Form.Control,{value:amount,onChange:function onChange(e){return setAmount(e.target.value);}})}),/*#__PURE__*/_jsx(Col,{sm:2,children:/*#__PURE__*/_jsx(Button,{onClick:handleWithdrawClick,className:\"mb-3\",children:loading?/*#__PURE__*/_jsx(_Fragment,{children:\"Loading..\"}):/*#__PURE__*/_jsx(_Fragment,{children:\"Submit\"})})})]}),/*#__PURE__*/_jsx(Row,{className:\"justify-content-md-center\",children:/*#__PURE__*/_jsx(Col,{sm:6,children:error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error})})})]});}","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","api","Alert","Navbar","Button","Form","Col","Row","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Withdraw","props","_useState","_useState2","_slicedToArray","amount","setAmount","_useParams","accountID","_useParams2","userID","_useState3","_useState4","error","setError","_useState5","_useState6","loading","setLoading","handleWithdrawClick","event","preventDefault","isNaN","balance","withdrawAmount","parseFloat","put","concat","headers","then","response","updateAccount","data","catch","console","children","Group","as","className","controlId","Label","column","sm","Control","value","onChange","e","target","onClick","variant"],"sources":["/Users/emmanueltowner/Downloads/Bank-App/src/main/frontend/src/components/Account/Withdraw.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport axios from \"axios\";\nimport api from \"../../api/axiosConfig\";\n``;\nimport { Alert, Navbar } from \"react-bootstrap\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\n\nimport Col from \"react-bootstrap/Col\";\n\nimport Row from \"react-bootstrap/Row\";\n\nexport default function Withdraw(props) {\n  const [amount, setAmount] = useState(0);\n  const { accountID } = useParams();\n  const { userID } = useParams();\n  const [error, setError] = useState(null);\n  const [loading, setLoading] = useState(false);\n\n  const handleWithdrawClick = (event) => {\n    event.preventDefault();\n\n    if (isNaN(amount) || amount <= 0) {\n      setError(\"Invalid withdrawal amount. Please enter a valid amount.\");\n      return;\n    }\n    if (props.balance - amount < 0) {\n      setError(\"Insufficient funds.\");\n      return;\n    }\n\n    const withdrawAmount = parseFloat(amount);\n    setLoading(true);\n    api\n      .put(`/api/v1/user/${userID}/${accountID}/withdraw`, withdrawAmount, {\n        headers: { \"Content-Type\": \"application/json\" },\n      })\n      .then((response) => {\n        //console.log(response.data);\n        setError(null);\n        setAmount(0);\n        props.updateAccount(response.data);\n        setLoading(false);\n      })\n      .catch((error) => {\n        console.error(error);\n        setLoading(false);\n      });\n  };\n\n  return (\n    <div>\n      <Form.Group as={Row} className=\"mb-3 \" controlId=\"formHorizontalEmail\">\n        <Form.Label column sm={5}>\n          Enter an amount:\n        </Form.Label>\n        <Col sm={3}>\n          <Form.Control\n            value={amount}\n            onChange={(e) => setAmount(e.target.value)}\n          />\n        </Col>\n        <Col sm={2}>\n          <Button onClick={handleWithdrawClick} className=\"mb-3\">\n            {loading ? <>Loading..</> : <>Submit</>}\n          </Button>\n        </Col>\n      </Form.Group>\n      <Row className=\"justify-content-md-center\">\n        <Col sm={6}>{error && <Alert variant=\"danger\">{error}</Alert>}</Col>\n      </Row>\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}